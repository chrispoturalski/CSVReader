<!DOCTYPE html>
<html>
<head>
    <title>CSV Reader</title>
</head>
<body>
    <h2>Open the console log and watch the magic happen!</h2>
    <input type="file" id="uploadfile" accept=".csv">
    <button id="uploadconfirm">Upload File</button>

    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.1/papaparse.min.js"></script>

    <script>
        const nameData = [];
        const stageData = [];
        const addressData = [];
        const latData = [];
        const lngData = [];
        const uploadconfirm = document.getElementById('uploadconfirm').
        addEventListener('click', () => {
            Papa.parse(document.getElementById('uploadfile').files[0],
            {
                header: true,
                download: true,
                skipEmptyLines: true,
                complete: function(results) {
                    // console.log(results.data[0].Address);
                    for (i = 0; i < results.data.length; i++) {
                        nameData.push(results.data[i].Name);
                        stageData.push(results.data[i].Stage);
                        addressData.push(results.data[i].Address)
                        latData.push(results.data[i].Latitude);
                        lngData.push(results.data[i].Longitude);
                    }
                    console.log(results);

                }
            })
        })
    </script>
</body>

</html>